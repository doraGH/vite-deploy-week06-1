import{a as v,S as y}from"./sweetalert2.all-lMQcd3on.js";import{P as C}from"./PaginationComponent-d5VWG0cH.js";import{_ as P,r as i,o as l,c as r,b as d,a as t,F as p,h as L,t as a,n as V,i as _,d as k}from"./index-2ZTvRUip.js";var E={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"dorayu",BASE_URL:"/vite-deploy-week06/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:T,VITE_PATH:x}=E,O={data(){return{orders:[],pagination:{},isLoading:!1}},components:{PaginationComponent:C},methods:{getOrders(o=1){const c=`${T}/api/${x}/admin/orders?page=${o}`;this.isLoading=!0,v.get(c).then(s=>{const{orders:u,pagination:e}=s.data;this.isLoading=!1,this.orders=u,this.pagination=e}).catch(s=>{y.fire(s.response.data.message),this.$router.push("/login")})}},mounted(){this.getOrders()}},S=t("h2",null,"訂單列表",-1),$={class:"container"},w=t("div",{class:"mt-4"},[t("div",{class:"text-end"},[t("button",{class:"btn btn-outline-danger",type:"button"},"清空訂單")])],-1),R={class:"bg-light my-4 p-4"},A={class:"table align-middle"},B=t("thead",null,[t("tr",null,[t("th",null,"訂單編號"),t("th",null,"訂單日期"),t("th",null,"訂單總金額"),t("th",null,"是否付款"),t("th",null,"查看訂單")])],-1),D={class:"btn-group"},I=["onClick"],M=["onClick"];function N(o,c,s,u,e,h){const g=i("VueLoading"),m=i("font-awesome-icon"),b=i("PaginationComponent");return l(),r(p,null,[d(g,{active:e.isLoading},null,8,["active"]),S,t("div",$,[w,t("div",R,[t("table",A,[B,t("tbody",null,[(l(!0),r(p,null,L(e.orders,n=>(l(),r("tr",{key:n.id},[t("td",null,a(n.id),1),t("td",null,a(n.create_at),1),t("td",null,[t("span",{class:V({"text-success":n.is_paid})},a(n.is_paid?"已付款":"未付款"),3)]),t("td",null,a(n.total),1),t("td",null,[t("div",D,[t("button",{type:"button",class:"btn btn-outline-primary btn-sm",onClick:_(f=>o.openProductModal("edit",n),["prevent"])},[d(m,{icon:["fas","eye"]}),k(" 編輯 ")],8,I),t("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:_(f=>o.openProductModal("delete",n),["prevent"])}," 刪除 ",8,M)])])]))),128))])]),d(b,{pages:e.pagination,onChangePage:h.getOrders},null,8,["pages","onChangePage"])])])],64)}const z=P(O,[["render",N]]);export{z as default};
