import{a as v,S as y}from"./sweetalert2.all-pIIwgurZ.js";import{P as C}from"./PaginationComponent-RD7V1wlM.js";import{_ as P,r as i,o as l,c as r,b as d,a as t,F as p,h as L,t as a,n as V,i as _,d as k}from"./index-Awjvhb2t.js";var E={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"dorayu",BASE_URL:"/vite-deploy-week06-1/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:x,VITE_PATH:T}=E,w={data(){return{orders:[],pagination:{},isLoading:!1}},components:{PaginationComponent:C},methods:{getOrders(o=1){const c=`${x}/api/${T}/admin/orders?page=${o}`;this.isLoading=!0,v.get(c).then(s=>{const{orders:u,pagination:n}=s.data;this.isLoading=!1,this.orders=u,this.pagination=n}).catch(s=>{y.fire(s.response.data.message),this.$router.push("/login")})}},mounted(){this.getOrders()}},O={class:"container"},S=t("div",{class:"d-flex justify-content-between mt-4"},[t("h2",null,"訂單列表"),t("div",{class:"text-end"},[t("button",{class:"btn btn-outline-danger",type:"button"},"清空訂單")])],-1),$={class:"bg-light my-4 p-4"},R={class:"table align-middle"},A=t("thead",null,[t("tr",null,[t("th",null,"訂單編號"),t("th",null,"訂單日期"),t("th",null,"訂單總金額"),t("th",null,"是否付款"),t("th",null,"查看訂單")])],-1),B={class:"btn-group"},D=["onClick"],I=["onClick"];function M(o,c,s,u,n,g){const h=i("VueLoading"),m=i("font-awesome-icon"),b=i("PaginationComponent");return l(),r(p,null,[d(h,{active:n.isLoading},null,8,["active"]),t("div",O,[S,t("div",$,[t("table",R,[A,t("tbody",null,[(l(!0),r(p,null,L(n.orders,e=>(l(),r("tr",{key:e.id},[t("td",null,a(e.id),1),t("td",null,a(e.create_at),1),t("td",null,[t("span",{class:V({"text-success":e.is_paid})},a(e.is_paid?"已付款":"未付款"),3)]),t("td",null,a(e.total),1),t("td",null,[t("div",B,[t("button",{type:"button",class:"btn btn-outline-primary btn-sm",onClick:_(f=>o.openProductModal("edit",e),["prevent"])},[d(m,{icon:["fas","eye"]}),k(" 編輯 ")],8,D),t("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:_(f=>o.openProductModal("delete",e),["prevent"])}," 刪除 ",8,I)])])]))),128))])]),d(b,{pages:n.pagination,onChangePage:g.getOrders},null,8,["pages","onChangePage"])])])],64)}const H=P(w,[["render",M]]);export{H as default};
